#!/usr/bin/env coffee
#
# vim:ft=coffee ts=2 sw=2 et :
# -*- mode:coffee -*-

Creator  = require '../src/creator'
Robot    = require '../src/robot'
Options  = require '../src/options'

Fs       = require 'fs'
OptParse = require 'optparse'
Path     = require 'path'

options = new Options process.argv

if options.help
  console.log options.help
  process.exit 0
else if options.create
  creator = new Creator(options.path)
  creator.run()
else
  adapterPath = Path.join __dirname, "..", "src", "adapters"

  args =
    adapterPath: adapterPath
    adapter: options.adapter
    name: options.name
    alias: options.alias
    httpd: options.enableHttpd

  robot = new Robot args

  if options.version
    console.log robot.version
    process.exit 0

  robot.run options.brain or 'memory'
